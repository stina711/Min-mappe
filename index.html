<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Fransk grammatikk ‚Äì l√¶ringsapp</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        margin: 0;
        padding: 0;
    }

    .app {
        max-width: 700px;
        margin: 40px auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h1 {
        text-align: center;
        color: #2c3e50;
    }

    .rule {
        background: #eef3f7;
        padding: 15px;
        border-left: 5px solid #3498db;
        margin-bottom: 20px;
    }

    .question {
        font-size: 18px;
        margin-bottom: 15px;
    }

    button {
        display: block;
        width: 100%;
        margin: 8px 0;
        padding: 10px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background: #3498db;
        color: white;
    }

    button:hover {
        background: #2980b9;
    }

    .feedback {
        margin-top: 15px;
        font-weight: bold;
    }

    .correct {
        color: green;
    }

    .wrong {
        color: red;
    }

    .score {
        text-align: center;
        margin-top: 20px;
        font-size: 16px;
    }
</style>
</head>
<body>

<div class="app">
    <h1>üá´üá∑ Fransk grammatikk</h1>

    <div class="rule" id="rule"></div>

    <div class="question" id="question"></div>

    <div id="answers"></div>

    <div class="feedback" id="feedback"></div>

    <div class="score" id="score"></div>
</div>

<script>
const lessons = [
    {
        rule: "Bestemte artikler p√• fransk:<br><b>le</b> (hankj√∏nn), <b>la</b> (hunkj√∏nn), <b>les</b> (flertall).",
        question: "Hva er riktig artikkel: ___ livre",
        answers: ["la", "le", "les"],
        correct: 1
    },
    {
        rule: "Ubestemte artikler:<br><b>un</b> (hankj√∏nn), <b>une</b> (hunkj√∏nn), <b>des</b> (flertall).",
        question: "Hva er riktig artikkel: ___ pomme",
        answers: ["un", "une", "des"],
        correct: 1
    },
    {
        rule: "Verb i presens ‚Äì √™tre (√• v√¶re):<br>je suis, tu es, il/elle est",
        question: "Fullf√∏r setningen: Je ___ √©tudiant.",
        answers: ["es", "suis", "est"],
        correct: 1
    },
    {
        rule: "Pass√© compos√© ‚Äì avoir (√• ha):<br>j'ai, tu as, il/elle a",
        question: "Fullf√∏r setningen: Nous ___ mang√©.",
        answers: ["avons", "√™tes", "ont"],
        correct: 0
    },
    {
        rule: "Refleksive verb ‚Äì se laver (√• vaske seg):<br>je me lave, tu te laves, il/elle se lave",
        question: "Fullf√∏r setningen: Ils ___ r√©veill√©s tard.",
        answers: ["se sont", "se sont lav√©s", "se"],
        correct: 0
    },
    {
        rule: "Futur proche (n√¶r fremtid):<br>aller + infinitiv ‚Äì je vais, tu vas, il/elle va",
        question: "Hva er riktig setning: Nous ___ manger ce soir.",
        answers: ["allons", "sommes", "avons"],
        correct: 0
    },
    {
        rule: "Direkte objektspronomen: <br><b>me/m'</b>, <b>te/t'</b>, <b>le/la/l'</b>, <b>nous</b>, <b>vous</b>, <b>les</b>",
        question: "Fullf√∏r setningen: Il ___ voit souvent.",
        answers: ["nous", "les", "le"],
        correct: 2
    },
    {
        rule: "B√∏yning av verbet <b>faire</b> (√• gj√∏re) i presens: je fais, tu fais, il/elle fait.",
        question: "Hva er riktig: Tu ___ du sport?",
        answers: ["fais", "faisons", "fait"],
        correct: 0
    }
];

let current = 0;
let points = 0;

function loadLesson() {
    const lesson = lessons[current];
    document.getElementById("rule").innerHTML = lesson.rule;
    document.getElementById("question").innerText = lesson.question;
    document.getElementById("feedback").innerText = "";

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    // Blande alternativene
    const shuffledAnswers = shuffle(lesson.answers);
    shuffledAnswers.forEach((answer, index) => {
        const btn = document.createElement("button");
        btn.innerText = answer;
        btn.onclick = () => checkAnswer(shuffledAnswers.indexOf(answer));
        answersDiv.appendChild(btn);
    });

    updateScore();
}

function checkAnswer(selected) {
    const feedback = document.getElementById("feedback");
    const correctAnswerIndex = lessons[current].correct;

    if (selected === correctAnswerIndex) {
        feedback.innerText = "Riktig! ‚úîÔ∏è";
        feedback.className = "feedback correct";
        points++;
    } else {
        feedback.innerText = "Feil ‚ùå";
        feedback.className = "feedback wrong";
    }

    setTimeout(() => {
        current++;
        if (current < lessons.length) {
            loadLesson();
        } else {
            endGame();
        }
    }, 1200);
}

function shuffle(array) {
    // Fisher-Yates algoritme for √• blande arrayet
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]]; // Bytt plass
    }
    return array;
}

function updateScore() {
    document.getElementById("score").innerText =
        `Poeng: ${points} / ${lessons.length}`;
}

function endGame() {
    document.querySelector(".app").innerHTML = `
        <h1>Ferdig! üéâ</h1>
        <p style="text-align:center">
            Du fikk <b>${points}</b> av <b>${lessons.length}</b> riktige.
        </p>
        <button onclick="location.reload()">Pr√∏v igjen</button>
    `;
}

loadLesson();
</script>

</body>
</html>
